{
  "version": 3,
  "sources": ["../../vue-cal/dist/drag-and-drop.es.js"],
  "sourcesContent": ["var S = Object.defineProperty;\nvar V = (t, e, l) => e in t ? S(t, e, { enumerable: !0, configurable: !0, writable: !0, value: l }) : t[e] = l;\nvar T = (t, e, l) => (V(t, typeof e != \"symbol\" ? e + \"\" : e, l), l);\n/**\n  * vue-cal v4.8.1\n  * (c) 2022 Antoni Andre <antoniandre.web@gmail.com>\n  * @license MIT\n  */\nlet o = null, c = null, v = { id: null, date: null }, _ = !1, m = !0, u = { el: null, cell: null, timeout: null };\nconst r = { _eid: null, fromVueCal: null, toVueCal: null }, M = class {\n  constructor(t) {\n    T(this, \"_vuecal\");\n    this._vuecal = t;\n  }\n  _getEventStart(t) {\n    const { timeStep: e, timeCellHeight: l, timeFrom: i, utils: n } = this._vuecal;\n    let { y: a } = n.cell.getPosition(t);\n    return a -= 1 * t.dataTransfer.getData(\"cursor-grab-at\"), Math.round(a * e / parseInt(l) + i);\n  }\n  _updateEventStartEnd(t, e, l, i) {\n    const n = 1 * l.duration || e.endTimeMinutes - e.startTimeMinutes;\n    let a = Math.max(this._getEventStart(t), 0);\n    if (this._vuecal.snapToTime) {\n      const d = a + this._vuecal.snapToTime / 2;\n      a = d - d % this._vuecal.snapToTime;\n    }\n    e.startTimeMinutes = a, e.start = new Date(new Date(i).setMinutes(a)), e.endTimeMinutes = Math.min(a + n, 1440), e.end = new Date(new Date(i).setMinutes(e.endTimeMinutes));\n  }\n  eventDragStart(t, e) {\n    if (t.target.nodeType === 3)\n      return t.preventDefault();\n    t.dataTransfer.dropEffect = \"move\", t.dataTransfer.setData(\"event\", JSON.stringify(e)), t.dataTransfer.setData(\"cursor-grab-at\", t.offsetY);\n    const { clickHoldAnEvent: l } = this._vuecal.domEvents;\n    setTimeout(() => {\n      l._eid = null, clearTimeout(l.timeoutId), e.deleting = !1;\n    }, 0), this._vuecal.domEvents.dragAnEvent._eid = e._eid, r._eid = e._eid, r.fromVueCal = this._vuecal._.uid, e.dragging = !0, setTimeout(() => e.draggingStatic = !0, 0), _ = !1, v = { id: this._vuecal.view.id, date: this._vuecal.view.startDate }, m = !0;\n  }\n  eventDragEnd(t) {\n    this._vuecal.domEvents.dragAnEvent._eid = null, r._eid = null, t.dragging = !1, t.draggingStatic = !1;\n    const { fromVueCal: e, toVueCal: l } = r;\n    l && e !== l && this._vuecal.utils.event.deleteAnEvent(t), r.fromVueCal = null, r.toVueCal = null, _ && m && v.id && this._vuecal.switchView(v.id, v.date, !0);\n  }\n  cellDragEnter(t, e, l) {\n    const i = t.currentTarget;\n    if (!t.currentTarget.contains(t.relatedTarget)) {\n      if (i === u.el || !i.className.includes(\"vuecal__cell-content\"))\n        return !1;\n      u.el && (u.cell.highlighted = !1), u = { el: i, cell: e, timeout: clearTimeout(u.timeout) }, e.highlighted = !0, [\"years\", \"year\", \"month\"].includes(this._vuecal.view.id) && (u.timeout = setTimeout(() => this._vuecal.switchToNarrowerView(l), 2e3));\n    }\n  }\n  cellDragOver(t, e, l, i) {\n    t.preventDefault(), e.highlighted = !0, (i || i === 0) && (e.highlightedSplit = i);\n  }\n  cellDragLeave(t, e) {\n    t.preventDefault(), t.currentTarget.contains(t.relatedTarget) || (e.highlightedSplit = !1, u.cell === e && (clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null }, e.highlighted = !1));\n  }\n  cellDragDrop(t, e, l, i) {\n    t.preventDefault(), clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null };\n    const n = JSON.parse(t.dataTransfer.getData(\"event\") || \"{}\");\n    let a, d;\n    if (r.fromVueCal !== this._vuecal._.uid) {\n      const { _eid: s, start: D, end: w, duration: g, ...E } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, g, { ...E, split: i });\n    } else if (a = this._vuecal.view.events.find((s) => s._eid === r._eid), a || (a = this._vuecal.mutableEvents.find((s) => s._eid === r._eid), d = !!a), !a) {\n      const s = n.endTimeMinutes - n.startTimeMinutes, { start: D, end: w, ...g } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, s, { ...g, split: i });\n    }\n    const { start: f, split: p } = a;\n    this._updateEventStartEnd(t, a, n, l), d && this._vuecal.addEventsToView([a]), a.dragging = !1, (i || i === 0) && (a.split = i), e.highlighted = !1, e.highlightedSplit = null, m = !1, r.toVueCal = this._vuecal._.uid;\n    const h = { event: this._vuecal.cleanupEvent(a), oldDate: f, newDate: a.start, ...(i || i === 0) && { oldSplit: p, newSplit: i }, originalEvent: this._vuecal.cleanupEvent(n), external: !r.fromVueCal };\n    this._vuecal.$emit(\"event-drop\", h), this._vuecal.$emit(\"event-change\", { event: h.event, originalEvent: h.originalEvent }), setTimeout(() => {\n      r._eid && this.eventDragEnd(a);\n    }, 300);\n  }\n  viewSelectorDragEnter(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || (l.highlightedControl = e, clearTimeout(o), o = setTimeout(() => {\n      if ([\"previous\", \"next\"].includes(e))\n        this._vuecal[e](), clearInterval(c), c = setInterval(this._vuecal[e], 800);\n      else if (e === \"today\") {\n        let i;\n        clearInterval(c), this._vuecal.view.id.includes(\"year\") && (i = this._vuecal.enabledViews.filter((n) => !n.includes(\"year\"))[0]), this._vuecal.switchView(i || this._vuecal.view.id, new Date(new Date().setHours(0, 0, 0, 0)), !0);\n      } else\n        this._vuecal.switchView(e, null, !0);\n      _ = !0;\n    }, 800));\n  }\n  viewSelectorDragLeave(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || l.highlightedControl === e && (l.highlightedControl = null, o && (o = clearTimeout(o)), c && (c = clearInterval(c)));\n  }\n};\nexport {\n  M as DragAndDrop\n};\n"],
  "mappings": "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",
  "names": []
}
